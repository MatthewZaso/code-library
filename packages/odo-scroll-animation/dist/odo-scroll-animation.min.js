!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.OdoScrollAnimation=e()}(this,function(){"use strict";function t(){return"sa_"+(e+=1)}var e=0,n={_listeners:new Map,_targets:new Map,_getListenersForTarget:function(t){var e=[];return this._listeners.forEach(function(n){n.target===t&&e.push(n.fn)}),e},_getScrollPosition:function(t){var e=void 0,n=void 0;return!function(t){return t&&t.window&&t.document&&t.location&&t.alert&&t.setInterval}(t)?(e=t.scrollTop,n=t.scrollLeft):(e=window.pageYOffset,n=window.pageXOffset),{top:e,left:n}},_callListeners:function(t){for(var e=this._getScrollPosition(t),n=this._getListenersForTarget(t),r=0,i=n.length;r<i;r++)n[r](e.top,e.left);this._targets.set(t,null)},_handleTargetScrolled:function(t){var e=t.currentTarget;this._targets.get(e)&&cancelAnimationFrame(this._targets.get(e));var n=requestAnimationFrame(this._callListeners.bind(this,e));this._targets.set(e,n)},_register:function(t){t.addEventListener("scroll",this._onScroll,!1),this._targets.set(t,null)},_unregister:function(t){t.removeEventListener("scroll",this._onScroll,!1),this._targets.delete(t)},add:function(e,n){if("function"==typeof e&&(n=e,e=window),function(t){return t&&9===t.nodeType}(e)&&(e=window),!e||!e.addEventListener)throw new TypeError('OdoScrollAnimation: "'+e+'" is not an Element, Document, or Window');if("function"!=typeof n)throw new TypeError('OdoScrollAnimation: "'+n+'" is not a function');this._targets.has(e)||this._register(e);var r=t();return this._listeners.set(r,{target:e,fn:n}),r},remove:function(t){var e=this._listeners.get(t);if(e){1===this._getListenersForTarget(e.target).length&&this._unregister(e.target),this._listeners.delete(t)}}};return n._onScroll=n._handleTargetScrolled.bind(n),n});
//# sourceMappingURL=odo-scroll-animation.min.js.map
