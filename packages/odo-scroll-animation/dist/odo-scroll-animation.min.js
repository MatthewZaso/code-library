!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.OdoScrollAnimation=e()}(this,function(){"use strict";function t(){return"sa_"+(r+=1)}function e(t){return t&&t.window&&t.document&&t.location&&t.alert&&t.setInterval}function n(t){return t&&9===t.nodeType}var r=0,i={_listeners:new Map,_targets:new Map,_getListenersForTarget:function(t){var e=[];return this._listeners.forEach(function(n){n.target===t&&e.push(n.fn)}),e},_getScrollPosition:function(t){var n=void 0,r=void 0;return e(t)?(n=window.pageYOffset,r=window.pageXOffset):(n=t.scrollTop,r=t.scrollLeft),{top:n,left:r}},_callListeners:function(t){for(var e=this._getScrollPosition(t),n=this._getListenersForTarget(t),r=0,i=n.length;r<i;r++)n[r](e.top,e.left);this._targets.set(t,null)},_handleTargetScrolled:function(t){var e=t.currentTarget;this._targets.get(e)&&cancelAnimationFrame(this._targets.get(e));var n=requestAnimationFrame(this._callListeners.bind(this,e));this._targets.set(e,n)},_register:function(t){t.addEventListener("scroll",this._onScroll,!1),this._targets.set(t,null)},_unregister:function(t){t.removeEventListener("scroll",this._onScroll,!1),this._targets.delete(t)},add:function(e,r){if("function"==typeof e&&(r=e,e=window),n(e)&&(e=window),!e||!e.addEventListener)throw new TypeError('OdoScrollAnimation: "'+e+'" is not an Element, Document, or Window');if("function"!=typeof r)throw new TypeError('OdoScrollAnimation: "'+r+'" is not a function');this._targets.has(e)||this._register(e);var i=t();return this._listeners.set(i,{target:e,fn:r}),i},remove:function(t){var e=this._listeners.get(t);e&&(1===this._getListenersForTarget(e.target).length&&this._unregister(e.target),this._listeners.delete(t))}};return i._onScroll=i._handleTargetScrolled.bind(i),i});
//# sourceMappingURL=odo-scroll-animation.min.js.map
