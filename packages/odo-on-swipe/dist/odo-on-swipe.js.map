{"version":3,"file":"odo-on-swipe.js","sources":["../src/on-swipe.js"],"sourcesContent":["import OdoPointer from '@odopod/odo-pointer';\n\nclass OnSwipe {\n  /**\n   * Provides a callback for swipe events.\n   * @param {Element} element Element to watch for swipes.\n   * @param {function(PointerEvent)} fn Callback when swiped.\n   * @param {OdoPointer.Axis} [axis] Optional axis. Defaults to 'x'.\n   * @constructor\n   */\n  constructor(element, fn, axis = OdoPointer.Axis.X) {\n    this.fn = fn;\n\n    this.pointer = new OdoPointer(element, {\n      axis,\n    });\n\n    this._onEnd = this._handlePointerEnd.bind(this);\n\n    this.pointer.on(OdoPointer.EventType.END, this._onEnd);\n  }\n\n  /**\n   * Received the pointer end event.\n   * @param {PointerEvent} pointerEvent Pointer event object.\n   */\n  _handlePointerEnd(pointerEvent) {\n    if (this.pointer.hasVelocity(pointerEvent.velocity)) {\n      this.fn(pointerEvent);\n    }\n  }\n\n  /** Cleanup this component. */\n  dispose() {\n    this.pointer.off(OdoPointer.EventType.END, this._onEnd);\n    this.pointer.dispose();\n    this._onEnd = null;\n    this.fn = null;\n  }\n}\n\nexport default OnSwipe;\n"],"names":["OnSwipe","element","fn","axis","OdoPointer","Axis","X","pointer","_onEnd","_handlePointerEnd","bind","on","EventType","END","pointerEvent","hasVelocity","velocity","dispose","off"],"mappings":";;;;;;;;;;;;;;MAEMA;EACJ;;;;;;;EAOA,mBAAYC,OAAZ,EAAqBC,EAArB,EAAmD;EAAA,QAA1BC,IAA0B,uEAAnBC,WAAWC,IAAX,CAAgBC,CAAG;EAAA;;EACjD,SAAKJ,EAAL,GAAUA,EAAV;;EAEA,SAAKK,OAAL,GAAe,IAAIH,UAAJ,CAAeH,OAAf,EAAwB;EACrCE;EADqC,KAAxB,CAAf;;EAIA,SAAKK,MAAL,GAAc,KAAKC,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAd;;EAEA,SAAKH,OAAL,CAAaI,EAAb,CAAgBP,WAAWQ,SAAX,CAAqBC,GAArC,EAA0C,KAAKL,MAA/C;EACD;;EAED;;;;;;sBAIAC,+CAAkBK,cAAc;EAC9B,QAAI,KAAKP,OAAL,CAAaQ,WAAb,CAAyBD,aAAaE,QAAtC,CAAJ,EAAqD;EACnD,WAAKd,EAAL,CAAQY,YAAR;EACD;EACF;;EAED;;;sBACAG,6BAAU;EACR,SAAKV,OAAL,CAAaW,GAAb,CAAiBd,WAAWQ,SAAX,CAAqBC,GAAtC,EAA2C,KAAKL,MAAhD;EACA,SAAKD,OAAL,CAAaU,OAAb;EACA,SAAKT,MAAL,GAAc,IAAd;EACA,SAAKN,EAAL,GAAU,IAAV;EACD;;;;;;;;;;;"}