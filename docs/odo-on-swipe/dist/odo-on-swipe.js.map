{"version":3,"file":"odo-on-swipe.js","sources":["../src/on-swipe.js"],"sourcesContent":["import OdoPointer from '@odopod/odo-pointer';\n\nclass OnSwipe {\n\n  /**\n   * Provides a callback for swipe events.\n   * @param {Element} element Element to watch for swipes.\n   * @param {function(PointerEvent)} fn Callback when swiped.\n   * @param {OdoPointer.Axis} [axis] Optional axis. Defaults to 'x'.\n   * @constructor\n   */\n  constructor(element, fn, axis = OdoPointer.Axis.X) {\n    this.fn = fn;\n\n    this.pointer = new OdoPointer(element, {\n      axis,\n    });\n\n    this._onEnd = this._handlePointerEnd.bind(this);\n\n    this.pointer.on(OdoPointer.EventType.END, this._onEnd);\n  }\n\n  /**\n   * Received the pointer end event.\n   * @param {PointerEvent} pointerEvent Pointer event object.\n   */\n  _handlePointerEnd(pointerEvent) {\n    if (this.pointer.hasVelocity(pointerEvent.velocity)) {\n      this.fn(pointerEvent);\n    }\n  }\n\n  /** Cleanup this component. */\n  dispose() {\n    this.pointer.off(OdoPointer.EventType.END, this._onEnd);\n    this.pointer.dispose();\n    this._onEnd = null;\n    this.fn = null;\n  }\n}\n\nexport default OnSwipe;\n"],"names":["OnSwipe","element","fn","axis","OdoPointer","Axis","X","pointer","_onEnd","_handlePointerEnd","bind","on","EventType","END","pointerEvent","hasVelocity","velocity","dispose","off"],"mappings":";;;;;;;;;;;;;;IAEMA;;;;;;;;;mBASQC,OAAZ,EAAqBC,EAArB,EAAmD;QAA1BC,IAA0B,uEAAnBC,WAAWC,IAAX,CAAgBC,CAAG;;;SAC5CJ,EAAL,GAAUA,EAAV;;SAEKK,OAAL,GAAe,IAAIH,UAAJ,CAAeH,OAAf,EAAwB;;KAAxB,CAAf;;SAIKO,MAAL,GAAc,KAAKC,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAd;;SAEKH,OAAL,CAAaI,EAAb,CAAgBP,WAAWQ,SAAX,CAAqBC,GAArC,EAA0C,KAAKL,MAA/C;;;;;;;;;oBAOFC,+CAAkBK,cAAc;QAC1B,KAAKP,OAAL,CAAaQ,WAAb,CAAyBD,aAAaE,QAAtC,CAAJ,EAAqD;WAC9Cd,EAAL,CAAQY,YAAR;;;;;;;oBAKJG,6BAAU;SACHV,OAAL,CAAaW,GAAb,CAAiBd,WAAWQ,SAAX,CAAqBC,GAAtC,EAA2C,KAAKL,MAAhD;SACKD,OAAL,CAAaU,OAAb;SACKT,MAAL,GAAc,IAAd;SACKN,EAAL,GAAU,IAAV;;;;;;;;;;;;"}