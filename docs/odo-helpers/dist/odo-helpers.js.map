{"version":3,"file":"odo-helpers.js","sources":["../src/is-defined.js","../src/_animation-utils.js","../src/animation-classes.js","../src/noop.js","../src/animation-stepper.js","../src/box.js","../src/events.js","../src/cancel-transition-end.js","../src/capitalize.js","../src/cause-layout.js","../src/chunk.js","../src/clamp.js","../src/closest.js","../src/closest-greater-than.js","../src/closest-less-than.js","../src/coordinate.js","../src/defaults-to.js","../src/dom-loaded.js","../src/dom-ready.js","../src/even-heights.js","../src/on-transition-end.js","../src/_fade-element.js","../src/fade-in-element.js","../src/fade-out-element.js","../src/force-redraw.js","../src/get-size.js","../src/_get-box.js","../src/get-margin-box.js","../src/get-elements-size.js","../src/get-ios-version.js","../src/get-nth-sibling.js","../src/get-number-option.js","../src/get-padding-box.js","../src/is-string.js","../src/get-string-option.js","../src/get-percentage-option.js","../src/get-relative-depth.js","../src/give-id.js","../src/is-android-os.js","../src/is-edge.js","../src/is-chrome.js","../src/is-native-android.js","../src/is-ios.js","../src/has-scroll-events.js","../src/hyphenate.js","../src/is-ie.js","../src/on-animation-end.js","../src/pull.js","../src/random-string.js","../src/rect.js","../src/remove-children.js","../src/_normalize-hash.js","../src/set-hash.js","../src/replace-with-hash.js","../src/scroll-to.js","../src/swap-elements.js","../src/timer.js","../src/wrap-around-list.js"],"sourcesContent":["/**\n * @param {*} value Anything.\n * @return {boolean}\n */\nexport default function isDefined(value) {\n  return value !== undefined && value !== null;\n}\n","import isDefined from './is-defined';\n\nconst transitions = {};\nlet transitionId = 0;\n\n/**\n * Store a pending transition.\n * @param {HTMLElement} element Element which has the transitionend listener.\n * @param {number} timerId Timer id from setTimeout to cancel the transition.\n * @param {(evt: TransitionEvent) => void} listener Callback.\n * @return {number} Transition id.\n */\nexport function saveTransition(element, timerId, listener) {\n  transitionId += 1;\n  transitions[transitionId] = {\n    element,\n    timerId,\n    listener,\n  };\n  return transitionId;\n}\n\n/**\n * Remove a transition id from the stored list.\n * @param {number} transitionId Transition id to remove.\n */\nexport function clearTransition(transitionId) {\n  delete transitions[transitionId];\n}\n\n/**\n * Retrieve a transition object.\n * @param {number} transitionId Transition id to retrieve.\n * @return {{element: HTMLElement, timerId: number, listener: (evt: TransitionEvent) => void}}\n *   Transition object.\n */\nexport function getTransition(transitionId) {\n  return transitions[transitionId];\n}\n\n/**\n * Retrieve all transition objects.\n * @return {object}\n */\nexport function getTransitions() {\n  return transitions;\n}\n\n/**\n * Returns the element when the first parameter is a jQuery collection.\n * @param {HTMLElement|jQuery} elem An element or a jQuery collection.\n * @return {HTMLElement}\n * @throws {Error} If it's a jQuery collection of more than one element.\n */\nexport function getElement(elem) {\n  if (elem.jquery) {\n    if (elem.length > 1) {\n      throw new TypeError('This method only supports transition end for one element, not a collection');\n    }\n\n    return elem[0];\n  }\n\n  return elem;\n}\n\nexport function isOwnEvent(event) {\n  return event.target === event.currentTarget;\n}\n\nexport function isSameTransitionProperty(event, prop) {\n  return event.fake || !isDefined(prop) || event.propertyName === prop;\n}\n\nexport function getFakeEvent(elem) {\n  return {\n    target: elem,\n    currentTarget: elem,\n    fake: true,\n  };\n}\n","export default {\n  FADE: 'fade',\n  IN: 'in',\n  INVISIBLE: 'invisible',\n};\n","export default function noop() {}\n","/**\n * @fileoverview A simple class for providing a stepping function for each\n * animation frame over a given length of time. Uses requestAnimationFrame\n * where available. Its API is similar to the AnimationPlayer in `Element.animate`.\n *\n * Assumes `requestAnimationFrame`, `Function.prototype.bind`, and `Object.assign`\n * are available.\n *\n * @author Glen Cheney <glen@odopod.com>\n */\n\nimport noop from './noop';\n\nclass Stepper {\n  /**\n   * Easy animation stepper.\n   *\n   * @param {Object} [options] Options object.\n   * @param {number} [options.start] Starting number. Value to animate from.\n   * @param {number} [options.end] Ending number. Value to animate to.\n   * @param {function(number, number):void} [options.step] Step function which\n   *     will receive the step value and the current percentage completed.\n   * @param {number} [options.duration] Length of the animation. Default is 250ms.\n   * @param {Object} [options.context] The object scope to invoke the function in.\n   * @param {function(number):number} [options.easing] Easing function to apply.\n   * @constructor\n   */\n  constructor(options) {\n    this.options = Object.assign({}, Stepper.Defaults, options);\n\n    /**\n     * The percentage value which the scrubber and reveals will be animated to.\n     * @type {number}\n     * @private\n     */\n    this._animationAmount = this.options.end - this.options.start;\n\n    /**\n     * Time when the animation timer started.\n     * @type {number}\n     * @private\n     */\n    this._animationStart = +new Date();\n\n    this._handler = this._animateLoop.bind(this);\n\n    /**\n     * Called at the end of the animation with `options.context`.\n     * @type {function:void}\n     */\n    this.onfinish = noop;\n\n    // Start loop.\n    this._requestId = requestAnimationFrame(this._handler);\n  }\n\n  /**\n   * Internal loop ticker.\n   * @private\n   */\n  _animateLoop() {\n    const now = new Date().getTime();\n    const remainingTime = this._animationStart + this.options.duration - now;\n\n    // Even when duration is zero, this will result in Infinity, which will only\n    // call the step method once then onfinish, which is desired.\n    let percent = 1 - (remainingTime / this.options.duration);\n\n    // Abort if already at or past 100%.\n    if (percent >= 1) {\n      // Make sure it always finishes with 1.\n      this.options.step.call(this.options.context, this.options.end, 1);\n      this.onfinish.call(this.options.context);\n      this.dispose();\n      return;\n    }\n\n    // Apply easing.\n    percent = this.options.easing(percent);\n\n    // Request animation frame.\n    this._requestId = requestAnimationFrame(this._handler);\n\n    // Tick.\n    this.options.step.call(\n      this.options.context,\n      this.options.start + (this._animationAmount * percent), percent,\n    );\n  }\n\n  /**\n   * Stop the animation and dispose of it.\n   */\n  cancel() {\n    cancelAnimationFrame(this._requestId);\n    this.dispose();\n  }\n\n  /**\n   * Destroy the animation instance.\n   */\n  dispose() {\n    this._handler = null;\n    this.options.context = null;\n  }\n}\n\nStepper.Defaults = {\n  start: 0,\n  end: 1,\n  duration: 250,\n  step: noop,\n  context: window,\n  easing(k) {\n    return -0.5 * (Math.cos(Math.PI * k) - 1);\n  },\n};\n\nexport default Stepper;\n","export default class Box {\n  /**\n   * Class for representing a box. A box is specified as a top, right, bottom,\n   * and left. A box is useful for representing margins and padding.\n   * @param {number} top Top.\n   * @param {number} right Right.\n   * @param {number} bottom Bottom.\n   * @param {number} left Left.\n   * @constructor\n   */\n  constructor(top, right, bottom, left) {\n    /**\n     * Top\n     * @type {number}\n     */\n    this.top = top;\n\n    /**\n     * Right\n     * @type {number}\n     */\n    this.right = right;\n\n    /**\n     * Bottom\n     * @type {number}\n     */\n    this.bottom = bottom;\n\n    /**\n     * Left\n     * @type {number}\n     */\n    this.left = left;\n  }\n}\n","import OdoDevice from '@odopod/odo-device';\n\n/**\n * Returns the prefixed or unprefixed pointer event name or null if not pointer events.\n * @param {string} event The event name. e.g. \"pointerdown\".\n * @return {?string} The event name or null.\n */\nfunction getPointerEvent(event) {\n  /* istanbul ignore else */\n  if (OdoDevice.HAS_POINTER_EVENTS) {\n    return event;\n  }\n\n  /* istanbul ignore next */\n  return null;\n}\n\n/**\n * Returns a normalized transition end event name.\n *\n * Issue with Modernizr prefixing related to stock Android 4.1.2\n * That version of Android has both unprefixed and prefixed transitions\n * built in, but will only listen to the prefixed on in certain cases\n * https://github.com/Modernizr/Modernizr/issues/897\n *\n * @return {string} A patched transition end event name.\n */\nfunction getTransitionEndEvent() {\n  const div = document.createElement('div');\n  div.style.transitionProperty = 'width';\n\n  // Test the value which was just set. If it wasn't able to be set,\n  // then it shouldn't use unprefixed transitions.\n  /* istanbul ignore next */\n  if (div.style.transitionProperty !== 'width' && 'webkitTransition' in div.style) {\n    return 'webkitTransitionEnd';\n  }\n\n  return {\n    // Saf < 7, Android Browser < 4.4\n    WebkitTransition: 'webkitTransitionEnd',\n    transition: 'transitionend',\n  }[OdoDevice.Dom.TRANSITION];\n}\n\n/**\n * Returns a normalized animation end event name.\n * @return {string}\n */\nfunction getAnimationEndEvent() {\n  return {\n    WebkitAnimation: 'webkitAnimationEnd',\n    animation: 'animationend',\n  }[OdoDevice.Dom.ANIMATION];\n}\n\nconst events = {\n  // Mouse events\n  CLICK: 'click',\n  DBLCLICK: 'dblclick',\n  MOUSEDOWN: 'mousedown',\n  MOUSEUP: 'mouseup',\n  MOUSEOVER: 'mouseover',\n  MOUSEOUT: 'mouseout',\n  MOUSEMOVE: 'mousemove',\n\n  // IE, Safari, Chrome\n  SELECTSTART: 'selectstart',\n\n  // Key events\n  KEYPRESS: 'keypress',\n  KEYDOWN: 'keydown',\n  KEYUP: 'keyup',\n\n  // Focus\n  BLUR: 'blur',\n  FOCUS: 'focus',\n\n  // IE only\n  DEACTIVATE: 'deactivate',\n\n  FOCUSIN: 'focusin',\n  FOCUSOUT: 'focusout',\n\n  // Forms\n  CHANGE: 'change',\n  SELECT: 'select',\n  SUBMIT: 'submit',\n  INPUT: 'input',\n\n  // IE only\n  PROPERTYCHANGE: 'propertychange',\n\n  // Drag and drop\n  DRAGSTART: 'dragstart',\n  DRAG: 'drag',\n  DRAGENTER: 'dragenter',\n  DRAGOVER: 'dragover',\n  DRAGLEAVE: 'dragleave',\n  DROP: 'drop',\n  DRAGEND: 'dragend',\n\n  // WebKit touch events.\n  TOUCHSTART: 'touchstart',\n  TOUCHMOVE: 'touchmove',\n  TOUCHEND: 'touchend',\n  TOUCHCANCEL: 'touchcancel',\n\n  // Misc\n  BEFOREUNLOAD: 'beforeunload',\n  CONTEXTMENU: 'contextmenu',\n  ERROR: 'error',\n  HELP: 'help',\n  LOAD: 'load',\n  LOSECAPTURE: 'losecapture',\n  READYSTATECHANGE: 'readystatechange',\n  RESIZE: 'resize',\n  SCROLL: 'scroll',\n  UNLOAD: 'unload',\n\n  // HTML 5 History events\n  // See http://www.w3.org/TR/html5/history.html#event-definitions\n  HASHCHANGE: 'hashchange',\n  PAGEHIDE: 'pagehide',\n  PAGESHOW: 'pageshow',\n  POPSTATE: 'popstate',\n\n  // Copy and Paste\n  // Support is limited. Make sure it works on your favorite browser\n  // before using.\n  // http://www.quirksmode.org/dom/events/cutcopypaste.html\n  COPY: 'copy',\n  PASTE: 'paste',\n  CUT: 'cut',\n  BEFORECOPY: 'beforecopy',\n  BEFORECUT: 'beforecut',\n  BEFOREPASTE: 'beforepaste',\n\n  // HTML5 online/offline events.\n  // http://www.w3.org/TR/offline-webapps/#related\n  ONLINE: 'online',\n  OFFLINE: 'offline',\n\n  // HTML 5 worker events\n  MESSAGE: 'message',\n  CONNECT: 'connect',\n\n  // Css transition events.\n  TRANSITIONEND: getTransitionEndEvent(),\n\n  ANIMATIONEND: getAnimationEndEvent(),\n\n  // Pointer events\n  POINTERCANCEL: getPointerEvent('pointercancel'),\n  POINTERDOWN: getPointerEvent('pointerdown'),\n  POINTERMOVE: getPointerEvent('pointermove'),\n  POINTEROVER: getPointerEvent('pointerover'),\n  POINTEROUT: getPointerEvent('pointerout'),\n  POINTERUP: getPointerEvent('pointerup'),\n};\n\nexport default events;\n","import OdoDevice from '@odopod/odo-device';\nimport events from './events';\nimport { clearTransition, getTransition } from './_animation-utils';\n\n/**\n * Remove the event listener for `transitionend`.\n * @param {number} id The number returned by `onTransitionEnd`.\n * @return {boolean} Whether the transition was canceled or not. If the transition\n *     already finished, this method will return false.\n */\nexport default function cancelTransitionEnd(id) {\n  const obj = getTransition(id);\n\n  if (obj) {\n    clearTimeout(obj.timerId);\n\n    if (OdoDevice.HAS_TRANSITIONS) {\n      obj.element.removeEventListener(events.TRANSITIONEND, obj.listener);\n    }\n\n    clearTransition(id);\n    return true;\n  }\n  return false;\n}\n","/**\n * Capitalize a string.\n * @param {string} str String to capitalize.\n * @return {string} Capitalized string.\n */\nexport default function capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n","/**\n * Ask the browser for a property that will cause it to recalculate styles\n * and layout the element (and possibly surrounding/parent elements).\n * @param {HTMLElement} element Element to for a layout for.\n * @return {number} Width of the element. If you actually need the width of\n *     element, use the `style.getSize` method.\n */\nexport default function causeLayout(element) {\n  return element.offsetWidth;\n}\n","/**\n * Make an array of smaller arrays from an array.\n * @param {Array.<*>} array An array to take chunks from.\n * @param {number} size The number of items per chunk.\n * @return {Array.<Array.<*>>}\n */\nexport default function chunk(array, size) {\n  if (!size) {\n    return [];\n  }\n\n  const numArrays = Math.ceil(array.length / size);\n  const chunked = new Array(numArrays);\n\n  // eslint-disable-next-line no-plusplus\n  for (let i = 0, index = 0; i < numArrays; index += size, i++) {\n    chunked[i] = array.slice(index, index + size);\n  }\n\n  return chunked;\n}\n","/**\n * Takes a number and clamps it to within the provided bounds.\n * @param {number} value The input number.\n * @param {number} min The minimum value to return.\n * @param {number} max The maximum value to return.\n * @return {number} The input number if it is within bounds, or the nearest\n *     number within the bounds.\n */\nexport default function clamp(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n}\n","/**\n * Given an array of numbers (`arr`), find the item in the array closest\n * to a given number (`num`).\n *\n * @param  {Array.<number>} arr An array of numbers.\n * @param  {number} num Close number to search from.\n * @return {?number} The closest number in the array.\n */\nexport default function closest(arr, num) {\n  let closest = null;\n\n  arr.reduce((closestDiff, value) => {\n    const diff = Math.abs(value - num);\n    if (diff < closestDiff) {\n      closest = value;\n      return diff;\n    }\n\n    return closestDiff;\n  }, Infinity);\n\n  return closest;\n}\n","import closest from './closest';\n\n/**\n * Given an array of numbers (`arr`), find the item in the array closest\n * to a given number (`num`), while also greater than (`num`).\n *\n * @param  {Array.<number>} arr An array of numbers.\n * @param  {number} num Close number to search from.\n * @return {?number} The closest number in the array.\n */\nexport default function closestGreaterThan(arr, num) {\n  return closest(arr.filter(value => value > num), num);\n}\n","import closest from './closest';\n\n/**\n * Given an array of numbers (`arr`), find the item in the array closest\n * to a given number (`num`), while also less than (`num`).\n *\n * @param  {Array.<number>} arr An array of numbers.\n * @param  {number} num Close number to search from.\n * @return {?number} The closest number in the array.\n */\nexport default function closestLessThan(arr, num) {\n  return closest(arr.filter(value => value < num), num);\n}\n","class Coordinate {\n  /**\n   * Class for representing coordinates and positions.\n   * @param {number} [x=0] Left, defaults to 0.\n   * @param {number} [y=0] Top, defaults to 0.\n   * @constructor\n   */\n  constructor(x = 0, y = 0) {\n    /**\n     * X-value\n     * @type {number}\n     */\n    this.x = x;\n\n    /**\n     * Y-value\n     * @type {number}\n     */\n    this.y = y;\n  }\n\n  /**\n   * Returns a duplicate of this coordinate.\n   * @return {Coordinate}\n   */\n  clone() {\n    return new Coordinate(this.x, this.y);\n  }\n\n  /**\n   * Scales this coordinate by the given scale factors. The x and y values are\n   * scaled by {@code sx} and {@code optSy} respectively.  If {@code optSy}\n   * is not given, then {@code sx} is used for both x and y.\n   * @param {number} sx The scale factor to use for the x dimension.\n   * @param {number=} optSy The scale factor to use for the y dimension.\n   * @return {!Coordinate} This coordinate after scaling.\n   */\n  scale(sx, optSy = sx) {\n    this.x *= sx;\n    this.y *= optSy;\n    return this;\n  }\n\n  /**\n   * Translates this box by the given offsets. If a {@code Coordinate}\n   * is given, then the x and y values are translated by the coordinate's x and y.\n   * Otherwise, x and y are translated by {@code tx} and {@code opt_ty}\n   * respectively.\n   * @param {number|Coordinate} tx The value to translate x by or the\n   *     the coordinate to translate this coordinate by.\n   * @param {number} [ty] The value to translate y by.\n   * @return {!Coordinate} This coordinate after translating.\n   */\n  translate(tx, ty) {\n    if (tx instanceof Coordinate) {\n      this.x += tx.x;\n      this.y += tx.y;\n    } else {\n      this.x += tx;\n      this.y += ty;\n    }\n\n    return this;\n  }\n\n  /**\n   * Compares coordinates for equality.\n   * @param {Coordinate} a A Coordinate.\n   * @param {Coordinate} b A Coordinate.\n   * @return {boolean} True iff the coordinates are equal, or if both are null.\n   */\n  static equals(a, b) {\n    if (a === b) {\n      return true;\n    }\n\n    if (!a || !b) {\n      return false;\n    }\n\n    return a.x === b.x && a.y === b.y;\n  }\n\n  /**\n   * Returns the distance between two coordinates.\n   * @param {!Coordinate} a A Coordinate.\n   * @param {!Coordinate} b A Coordinate.\n   * @return {number} The distance between {@code a} and {@code b}.\n   */\n  static distance(a, b) {\n    const dx = a.x - b.x;\n    const dy = a.y - b.y;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  /**\n   * Returns the difference between two coordinates as a new Coordinate.\n   * @param {!Coordinate} a A Coordinate.\n   * @param {!Coordinate} b A Coordinate.\n   * @return {!Coordinate} A Coordinate representing the difference\n   *     between {@code a} and {@code b}.\n   */\n  static difference(a, b) {\n    return new Coordinate(a.x - b.x, a.y - b.y);\n  }\n\n  /**\n   * Returns the sum of two coordinates as a new Coordinate.\n   * @param {!Coordinate} a A Coordinate.\n   * @param {!Coordinate} b A Coordinate.\n   * @return {!Coordinate} A Coordinate representing the sum of the two coordinates.\n   */\n  static sum(a, b) {\n    return new Coordinate(a.x + b.x, a.y + b.y);\n  }\n\n  /**\n   * Returns the product of two coordinates as a new Coordinate.\n   * @param {!Coordinate} a A Coordinate.\n   * @param {!Coordinate} b A Coordinate.\n   * @return {!Coordinate} A Coordinate representing the product of the two coordinates.\n   */\n  static product(a, b) {\n    return new Coordinate(a.x * b.x, a.y * b.y);\n  }\n\n  /**\n   * Returns the quotient of two coordinates as a new Coordinate.\n   * @param {!Coordinate} a A Coordinate.\n   * @param {!Coordinate} b A Coordinate.\n   * @return {!Coordinate} A Coordinate representing the quotient of the two coordinates.\n   */\n  static quotient(a, b) {\n    return new Coordinate(a.x / b.x, a.y / b.y);\n  }\n\n  /**\n   * Scales this coordinate by the given scale factors. This does not affect the\n   * properites of the coordinate parameter.\n   * @param {!Coordinate} a A Coordinate.\n   * @param {number} sx The scale factor to use for the x dimension.\n   * @param {number=} optSy The scale factor to use for the y dimension.\n   * @return {!Coordinate} This coordinate after scaling.\n   */\n  static scale(a, sx, optSy = sx) {\n    return new Coordinate(a.x * sx, a.y * optSy);\n  }\n}\n\nexport default Coordinate;\n","import isDefined from './is-defined';\n\n/**\n * Fallback to a specified default if an input is undefined or null.\n * @param {*} obj The input to test.\n * @param {*} defaultValue The fallback if the input is undefined.\n * @param {boolean=} test If defined, `test` will be used to determine which\n *     value should be used.\n * @return {*} The sanitized output, either `obj` or `defaultValue`.\n */\nexport default function defaultsTo(obj, defaultValue, test = isDefined(obj)) {\n  return test ? obj : defaultValue;\n}\n","/**\n * Returns a promise which resolves when the window load event is fired, or\n * one which resolves immediately if that has already happened.\n * @type {Promise<void>}\n */\nexport default new Promise((resolve) => {\n  /* istanbul ignore if */\n  if (document.readyState === 'complete') {\n    resolve();\n  } else {\n    window.addEventListener('load', function complete() {\n      window.removeEventListener('load', complete);\n      resolve();\n    });\n  }\n});\n","/**\n * Returns a promise which resolves when the DOMContentLoaded event is fired, or\n * one which resolves immediately if that has already happened.\n * @type {Promise<void>}\n */\nexport default new Promise((resolve) => {\n  /* istanbul ignore if */\n  if (document.readyState === 'interactive') {\n    resolve();\n  } else {\n    document.addEventListener('DOMContentLoaded', function ready() {\n      document.removeEventListener('DOMContentLoaded', ready);\n      resolve();\n    });\n  }\n});\n","/**\n * Determine which element in an array is the tallest.\n * @param {ArrayLike<HTMLElement>} elements Array-like of elements.\n * @return {number} Height of the tallest element.\n */\nfunction getTallest(elements) {\n  let tallest = 0;\n\n  for (let i = elements.length - 1; i >= 0; i--) {\n    if (elements[i].offsetHeight > tallest) {\n      tallest = elements[i].offsetHeight;\n    }\n  }\n\n  return tallest;\n}\n\n/**\n * Set the height of every element in an array to a value.\n * @param {ArrayLike<HTMLElement>} elements Array-like of elements.\n * @param {string} height Height value to set.\n */\nfunction setAllHeights(elements, height) {\n  for (let i = elements.length - 1; i >= 0; i--) {\n    elements[i].style.height = height;\n  }\n}\n\n/**\n * For groups of elements which should be the same height. Using this method\n * will create far less style recalculations and layouts.\n * @param {ArrayLike.<HTMLElement>|ArrayLike.<ArrayLike.<HTMLElement>>} groups An\n *     array-like collection of an array-like collection of elements.\n * @return {number|Array.<number>} An array containing the pixel value of the\n *     tallest element for each group, or just a number if it's one group.\n */\nexport default function evenHeights(groups) {\n  let list = Array.from(groups);\n\n  // If the first item in the list is an element, then it needs to be wrapped\n  // in an array so the rest of the methods will work.\n  let isGroup = true;\n  if (list[0] && list[0].nodeType) {\n    isGroup = false;\n    list = [list];\n  }\n\n  // First, reset the height for every element.\n  // This is done first, otherwise we dirty the DOM on each loop!\n  list.forEach((elements) => {\n    setAllHeights(elements, '');\n  });\n\n  // Now, measure heights in each group and save the tallest value. Instead of\n  // setting the height value for the entire group, save it. If it were set,\n  // the next iteration in the loop would have to recalculate styles in the DOM\n  const tallests = list.map(elements => getTallest(elements));\n\n  // Lastly, set them all.\n  list.forEach((elements, i) => {\n    setAllHeights(elements, tallests[i] + 'px');\n  });\n\n  if (isGroup) {\n    return tallests;\n  }\n  return tallests[0];\n}\n","import OdoDevice from '@odopod/odo-device';\nimport events from './events';\nimport {\n  clearTransition,\n  getElement,\n  getFakeEvent,\n  isOwnEvent,\n  isSameTransitionProperty,\n  saveTransition,\n} from './_animation-utils';\n\nexport default function onTransitionEnd(\n  elem,\n  fn,\n  context = window,\n  property = null,\n  timeout = null,\n) {\n  const element = getElement(elem);\n\n  const callback = fn.bind(context);\n  let timerId;\n\n  /**\n   * @param {TransitionEvent|{target: Element, currentTarget: Element}} evt Event object.\n   */\n\n  function transitionEnded(evt) {\n    // Some other element's transition event could have bubbled up to this.\n    // or\n    // If the optional property exists and it's not the property which was\n    // transitioned, exit out of the function and continue waiting for the\n    // right transition property.\n    if (!isOwnEvent(evt) || !isSameTransitionProperty(evt, property)) {\n      return;\n    }\n\n    // Remove from active transitions.\n    clearTransition(transitionId); // eslint-disable-line no-use-before-define\n\n    // If the browser has transitions, there will be a listener bound to the\n    // `transitionend` event which needs to be removed.\n    if (OdoDevice.HAS_TRANSITIONS) {\n      evt.currentTarget.removeEventListener(events.TRANSITIONEND, transitionEnded);\n    }\n\n    // Done!\n    callback(evt);\n    clearTimeout(timerId);\n  }\n\n  if (OdoDevice.HAS_TRANSITIONS) {\n    element.addEventListener(events.TRANSITIONEND, transitionEnded);\n\n    // Sometimes the transition end event doesn't fire, usually when\n    // properties don't change or when iOS decides to just snap instead of\n    // transition. To get around this, a timer is set which will trigger the\n    // fake event.\n    if (timeout) {\n      timerId = setTimeout(() => {\n        transitionEnded(getFakeEvent(element));\n      }, timeout);\n    }\n  } else {\n    // Push to the end of the queue with a fake event which will pass the checks\n    // inside the callback function.\n    timerId = setTimeout(() => {\n      transitionEnded(getFakeEvent(element));\n    }, 0);\n  }\n\n  // Save this active transition end listener so it can be canceled.\n  const transitionId = saveTransition(element, timerId, transitionEnded);\n\n  // Return id used to cancel the transition end listener, similar to setTimeout\n  // and requestAnimationFrame.\n  return transitionId;\n}\n","import noop from './noop';\nimport Classes from './animation-classes';\nimport {\n  getElement,\n  getFakeEvent,\n} from './_animation-utils';\nimport onTransitionEnd from './on-transition-end';\n\n/**\n * Fade out an element and then set visibilty hidden on it.\n * @param {Element} elem Element to fade.\n * @param {boolean} [isOut] Whether to fade out or in.\n * @param {Function} [fn=noop] Callback function when faded out.\n * @param {Window|HTMLElement} [context=window] Context for the callback.\n * @param {boolean} [invisible=false] Whether to add visibility:hidden to the\n *     element once it has faded out. Defaults to false.\n * @return {number} id used to cancel the transition end listener.\n */\nexport default function fadeElement(\n  elem,\n  isOut,\n  fn = noop,\n  context = window,\n  invisible = false,\n) {\n  const element = getElement(elem);\n\n  // Bind the context to the callback here so that the context and function\n  // references can be garbage collected and the only things left are `callback`\n  // and `invisible`.\n  const callback = fn.bind(context);\n\n  // Make sure the transition will actually happen.\n  // isIn and has `in` and `fade` classes or\n  // isIn but doesn't have `fade` or\n  // isOut and has `fade`, but doesn't have `in` class.\n  const hasIn = element.classList.contains(Classes.IN);\n  const hasFade = element.classList.contains(Classes.FADE);\n  if ((!isOut && hasIn && hasFade) ||\n    (!isOut && !hasFade) ||\n    (isOut && !hasIn && hasFade)) {\n    const fakeEvent = getFakeEvent(element);\n\n    // This is expected to be async.\n    setTimeout(() => {\n      callback(fakeEvent);\n    }, 0);\n\n    return 0;\n  }\n\n  /**\n   * Internal callback when the element has finished its transition.\n   * @param {{target: Element, currentTarget: Element}} evt Event object.\n   */\n  function faded(evt) {\n    // Element has faded out, add invisible class.\n    if (isOut && invisible) {\n      evt.currentTarget.classList.add(Classes.INVISIBLE);\n    }\n\n    callback(evt);\n  }\n\n  // Fading in, remove invisible class.\n  if (!isOut && invisible) {\n    elem.classList.remove(Classes.INVISIBLE);\n  }\n\n  // Make sure it has the \"fade\" class. It won't do anything if it already does.\n  elem.classList.add(Classes.FADE);\n\n  // Remove (or add) the \"in\" class which triggers the transition.\n  // If the element had neither of these classes, adding the \"fade\" class\n  // will trigger the transition.\n  elem.classList.toggle(Classes.IN, !isOut);\n\n  return onTransitionEnd(elem, faded, null, 'opacity');\n}\n","import fadeElement from './_fade-element';\n\n/**\n * Fade in an element and optionally remove a class which sets visibility\n * to hidden.\n * @param {Element} elem Element to fade.\n * @param {Function} [fn=noop] Callback function when faded out.\n * @param {Window|HTMLElement} [context=window] Context for the callback.\n * @param {boolean} [invisible=false] Whether to add visibility:hidden to the\n *     element once it has faded. Defaults to false.\n */\nexport default function fadeInElement(elem, fn, context, invisible) {\n  return fadeElement(elem, false, fn, context, invisible);\n}\n","import fadeElement from './_fade-element';\n\n/**\n * Fade in an element and optionally add a class which sets visibility\n * to hidden.\n * @param {Element} elem Element to fade.\n * @param {Function} [fn=noop] Callback function when faded out.\n * @param {Window|HTMLElement} [context=window] Context for the callback.\n * @param {boolean} [invisible=false] Whether to add visibility:hidden to the\n *     element once it has faded. Defaults to false.\n */\nexport default function fadeOutElement(elem, fn, context, invisible) {\n  return fadeElement(elem, true, fn, context, invisible);\n}\n","/**\n * Force the page to be repainted.\n */\nexport default function forceRedraw() {\n  const tempStyleSheet = document.createElement('style');\n  document.body.appendChild(tempStyleSheet);\n  document.body.removeChild(tempStyleSheet);\n}\n","/**\n * Gets the height and with of an element when the display is not none.\n * @param {HTMLElement} element Element to get size of.\n * @return {!{width: number, height: number}} Object with width/height.\n */\nexport default function getSize(element) {\n  return {\n    width: element.offsetWidth,\n    height: element.offsetHeight,\n  };\n}\n","import Box from './box';\n\n/**\n * Parse string to return numerical value.\n * @param {string} value String of number\n * @return {number} Numerical value or 0 if parseFloat returns NaN\n */\nfunction getFloat(value) {\n  return parseFloat(value) || 0;\n}\n\nexport default function getBox(element, property) {\n  const props = window.getComputedStyle(element, null);\n  return new Box(\n    getFloat(props[property + 'Top']),\n    getFloat(props[property + 'Right']),\n    getFloat(props[property + 'Bottom']),\n    getFloat(props[property + 'Left']),\n  );\n}\n","import getBox from './_get-box';\n\nexport default function getMarginBox(element) {\n  return getBox(element, 'margin');\n}\n","import getSize from './get-size';\nimport getMarginBox from './get-margin-box';\n\n/**\n * Returns the size (width or height) of a list of elements, including margins.\n * @param {HTMLElement[]} elements An array of child elements (not a NodeList).\n * @param {string} dimension `'width'` or `'height'`.\n * @return {number}\n */\nexport default function getElementsSize(elements, dimension) {\n  return elements.reduce((memo, el) => {\n    const outerSize = getSize(el)[dimension];\n    const margins = getMarginBox(el);\n    const marginSize = dimension === 'height' ?\n      margins.top + margins.bottom :\n      margins.left + margins.right;\n\n    return memo + outerSize + marginSize;\n  }, 0);\n}\n","/**\n * Detects the version of iOS operating system.\n * @param {string} userAgent The user agent string.\n * @return {number} iOS version. iOS 8.4.0, for example, will return `840`.\n */\nexport default function getIOSVersion(userAgent) {\n  const iosUserAgent = userAgent.match(/OS\\s+([\\d_]+)/i);\n  const iosVersion = iosUserAgent[1].split('_');\n\n  // The iOS ua string doesn't include the patch version if it's zero.\n  if (iosVersion.length === 2) {\n    iosVersion[2] = '0';\n  }\n\n  return parseInt(iosVersion.reduce((str, number) => str + number, ''), 10);\n}\n","/**\n * Retrieves the nth sibling of an element, or null if the would be nth sibling\n * does not exist. Heads up! This function excludes text nodes.\n * @param {Element} node Element to start looking from.\n * @param {number} n An integer representing the desired element relative to\n *     `node`. For example, `2` would look for `node.nextSibling.nextSibling`.\n * @param {boolean=} optIsForward Whether to look forwards or backwards. Default is true.\n * @return {?Element} The nth sibling or null.\n */\nexport default function getNthSibling(node, n, optIsForward) {\n  const isForward = optIsForward !== false;\n  let siblingCount = 0;\n  let sibling = node;\n  do {\n    sibling = isForward ?\n      sibling.nextElementSibling :\n      sibling.previousElementSibling;\n    siblingCount += 1;\n  } while (sibling && siblingCount < n);\n  return sibling;\n}\n","import defaultsTo from './defaults-to';\n\n/**\n * Parse a value as a number. If it's not numeric, then the default value will\n * be returned.\n * @param {*} value The option.\n * @param {*} defaultValue The fallback value.\n * @return {*} If value is numeric, value, else defaultValue.\n */\nexport default function getNumberOption(value, defaultValue) {\n  const number = parseFloat(value);\n  return defaultsTo(number, defaultValue, !Number.isNaN(number));\n}\n","import getBox from './_get-box';\n\nexport default function getPaddingBox(element) {\n  return getBox(element, 'padding');\n}\n","/**\n * @param {*} value Anything.\n * @return {boolean}\n */\nexport default function isString(value) {\n  return typeof value === 'string';\n}\n","import defaultsTo from './defaults-to';\nimport isString from './is-string';\n\n/**\n * Parse a value as a string. If it's not a string, then the default value\n * will be returned.\n * @param {*} value The option.\n * @param {*} defaultValue The fallback value.\n * @return {*} If value is a string, value, else defaultValue.\n */\nexport default function getStringOption(value, defaultValue) {\n  return defaultsTo(value, defaultValue, isString(value));\n}\n","import isString from './is-string';\nimport getStringOption from './get-string-option';\nimport getNumberOption from './get-number-option';\n\n/**\n * Parse a value as a percentage. If it's a string with '%' in it, it will\n * be parsed as a string, otherwise it will be parsed as a number.\n * @param {*} value The option.\n * @param {*} defaultValue The fallback value.\n * @return {*}\n */\nexport default function getPercentageOption(value, defaultValue) {\n  if (isString(value) && value.indexOf('%') > -1) {\n    return getStringOption(value, defaultValue);\n  }\n\n  return getNumberOption(value, defaultValue);\n}\n","/**\n * Ripped from: goog.testing.editor.dom.getRelativeDepth_.\n *\n * Returns the depth of the given node relative to the given parent node, or -1\n * if the given node is not a descendant of the given parent node. E.g. if\n * node == parentNode returns 0, if node.parentNode == parentNode returns 1,\n * etc.\n * @param {Node} node Node whose depth to get.\n * @param {Node} parentNode Node relative to which the depth should be\n *     calculated.\n * @return {number} The depth of the given node relative to the given parent\n *     node, or -1 if the given node is not a descendant of the given parent\n *     node.\n */\nexport default function getRelativeDepth(node, parentNode) {\n  let depth = 0;\n  let child = node;\n  while (child) {\n    if (child === parentNode) {\n      return depth;\n    }\n\n    child = child.parentNode;\n    depth += 1;\n  }\n\n  return -1;\n}\n","/**\n * Set an id on an element if one doesn't exist.\n * @param {Element} element Element to give an id.\n * @param {string|function(): string} fn Returns an id to set.\n */\nexport default function giveId(element, fn) {\n  if (!element.id) {\n    element.id = typeof fn === 'function' ? fn() : fn;\n  }\n}\n","/**\n * Detects the native Android Operating System.\n * @param {string} userAgent The user agent string.\n * @return {boolean}\n */\nexport default function isAndroidOS(userAgent) {\n  return userAgent.includes('Mozilla/5.0') && userAgent.includes('Android ');\n}\n","/**\n * Check for Microsoft Edge string.\n * @param {string} userAgent The user agent string.\n * @return {boolean}\n */\nexport default function isEdge(userAgent) {\n  return userAgent.includes('Edge/');\n}\n","import isEdge from './is-edge';\n\n/**\n * Detects all Google Chrome browsers.\n * @param {string} userAgent The user agent string.\n * @return {boolean}\n */\nexport default function isChrome(userAgent) {\n  return !isEdge(userAgent) && userAgent.includes('Chrome');\n}\n","import isAndroidOS from './is-android-os';\nimport isChrome from './is-chrome';\n\n/**\n * Whether the give user agent is from the stock Android browser.\n * @param {string} userAgent User agent string.\n * @return {boolean}\n */\nexport default function isNativeAndroid(userAgent) {\n  return isAndroidOS(userAgent) && !isChrome(userAgent);\n}\n","/**\n * Detects the iOS operating system.\n * @param {string} userAgent  The user agent string.\n * @return {boolean}\n */\nexport default function isIOS(userAgent) {\n  return /(iPad|iPhone|iPod)/g.test(userAgent);\n}\n","import isNativeAndroid from './is-native-android';\nimport isIOS from './is-ios';\nimport getIOSVersion from './get-ios-version';\n\n/**\n * User agent test for IOS. Determines whether current version is < 8. Version 8\n * and higher allow javascript execution while scrolling.\n * @param {string} userAgent The user agent string.\n * @return {boolean}\n */\nexport default function hasScrollEvents(userAgent) {\n  if (isIOS(userAgent)) {\n    return getIOSVersion(userAgent) >= 800;\n  }\n  return !isNativeAndroid(userAgent);\n}\n","/**\n * Hyphenates a javascript style string to a css one. For example:\n * MozBoxSizing -> -moz-box-sizing.\n * @param {string|false} str The string to hyphenate.\n * @return {string} The hyphenated string.\n */\nexport default function hyphenate(str) {\n  // Catch booleans.\n  if (!str) {\n    return '';\n  }\n\n  // Turn MozBoxSizing into -moz-box-sizing.\n  return str\n    .replace(/([A-Z])/g, (str, m1) => '-' + m1.toLowerCase())\n    .replace(/^ms-/, '-ms-');\n}\n","/**\n * Check for Microsoft Internet Explorer string.\n * @param {string} userAgent The user agent string.\n * @return {boolean}\n */\nexport default function isIE(userAgent) {\n  return userAgent.includes('Trident/');\n}\n","import OdoDevice from '@odopod/odo-device';\nimport events from './events';\nimport {\n  getElement,\n  getFakeEvent,\n  isOwnEvent,\n} from './_animation-utils';\n\n/**\n * Execute a callback when a css animation finishes.\n * @param {Element} elem The element which as an animation on it.\n * @param {Function} fn Callback function\n * @param {Object} [context=window] Optional context for the callback.\n */\nexport default function onAnimationEnd(elem, fn, context = window) {\n  const element = getElement(elem);\n\n  const callback = fn.bind(context);\n\n  function animationEnded(evt) {\n    // Ensure the `animationend` event was from the element specified.\n    // Difficult to test without tracking callbacks.\n    /* istanbul ignore next */\n    if (!isOwnEvent(evt)) {\n      return;\n    }\n\n    // Remove the listener if it was bound.\n    if (OdoDevice.HAS_CSS_ANIMATIONS) {\n      evt.currentTarget.removeEventListener(events.ANIMATIONEND, animationEnded);\n    }\n\n    callback(evt);\n  }\n\n  if (OdoDevice.HAS_CSS_ANIMATIONS) {\n    element.addEventListener(events.ANIMATIONEND, animationEnded);\n  } else {\n    // Callback is expected to be async, so push it to the end of the queue.\n    setTimeout(() => {\n      animationEnded(getFakeEvent(element));\n    }, 0);\n  }\n}\n","/**\n * Remove an item from an array.\n * @param {Array.<*>} arr An array.\n * @param {*} item Thing to remove from the array.\n * @return {?*} The item which was removed or null.\n */\nexport default function pull(arr, item) {\n  const index = arr.indexOf(item);\n  if (index === -1) {\n    return null;\n  }\n\n  arr.splice(index, 1);\n  return item;\n}\n","/**\n * Creates a random string for IDs, etc.\n * http://stackoverflow.com/a/8084248/995529\n * @return {string} Random string.\n */\nexport default function random() {\n  return Math.random().toString(36).substring(7);\n}\n","export default class Rect {\n  /**\n   * Class for representing rectangular regions.\n   * @param {number} x Left.\n   * @param {number} y Top.\n   * @param {number} w Width.\n   * @param {number} h Height.\n   * @constructor\n   */\n  constructor(x, y, w, h) {\n    /**\n     * Left\n     * @type {number}\n     */\n    this.left = x;\n\n    /**\n     * Top\n     * @type {number}\n     */\n    this.top = y;\n\n    /**\n     * Width\n     * @type {number}\n     */\n    this.width = w;\n\n    /**\n     * Height\n     * @type {number}\n     */\n    this.height = h;\n  }\n\n  /**\n   * Right\n   * @type {number}\n   */\n  get right() {\n    return this.left + this.width;\n  }\n\n  /**\n   * Bottom\n   * @type {number}\n   */\n  get bottom() {\n    return this.top + this.height;\n  }\n\n  /**\n   * Returns whether two rectangles intersect. Two rectangles intersect if they\n   * touch at all, for example, two zero width and height rectangles would\n   * intersect if they had the same top and left.\n   * @param {Rect} a A Rectangle.\n   * @param {Rect} b A Rectangle.\n   * @return {boolean} Whether a and b intersect.\n   */\n  static intersects(a, b) {\n    return (a.left <= b.right && b.left <= a.right &&\n      a.top <= b.bottom && b.top <= a.bottom);\n  }\n}\n","/**\n * Removes all children from a parent node.\n * @param {Element} element Parent node.\n */\nexport default function removeChildren(element) {\n  element.textContent = '';\n}\n","/* istanbul ignore next */\nexport default function normalizeHash(hash) {\n  if (typeof hash !== 'string') {\n    throw new Error('Hash must be of type string');\n  } else {\n    return hash.replace(/^#/, '');\n  }\n}\n","import normalizeHash from './_normalize-hash';\n\n/**\n * Updates the browser's hash\n * @param {string} newHash New hash, without `#`\n */\nexport default function setHash(newHash) {\n  const hash = normalizeHash(newHash);\n  let st;\n\n  // When resetting the hash with `''`, the page will scroll back to the top,\n  // so we cache the current scroll position.\n  if (!hash) {\n    st = window.pageYOffset;\n  }\n\n  window.location.hash = hash;\n\n  // Scroll back to the position from before.\n  if (!hash) {\n    window.scrollTo(0, st);\n  }\n}\n","import normalizeHash from './_normalize-hash';\nimport setHash from './set-hash';\n\n/**\n * Updates the user's history with new hash\n * @param {string} newHash New hash, without `#`\n */\nexport default function replaceWithHash(newHash) {\n  let hash = normalizeHash(newHash);\n  if (window.history.replaceState) {\n    hash = normalizeHash(hash);\n\n    // If resetting the hash, the whole path is needed. `''` doesn't work.\n    if (hash) {\n      hash = '#' + hash;\n    } else {\n      hash = window.location.pathname + window.location.search;\n    }\n\n    window.history.replaceState({}, null, hash);\n  } else {\n    setHash(hash);\n  }\n}\n","import noop from './noop';\nimport Stepper from './animation-stepper';\n\n/**\n * Scroll the page to a destination.\n * @param {number} [position] End scroll position.\n * @param {number} [duration] Duration in milliseconds.\n * @param {function:void} [callback] Optional callback.\n * @param {function(number):number} [easing] Easing function.\n */\nexport default function scrollTo(\n  position = 0,\n  duration = 400,\n  callback = noop,\n  easing = undefined,\n) {\n  const options = {\n    start: window.pageYOffset,\n    end: position,\n    duration,\n    step(scrollTop) {\n      window.scrollTo(0, scrollTop);\n    },\n  };\n\n  // Avoid setting `easing` to `undefined`.\n  if (typeof easing === 'function') {\n    options.easing = easing;\n  }\n\n  const anim = new Stepper(options);\n  anim.onfinish = callback;\n  return anim;\n}\n","/**\n * Swaps element1 with element2 in the DOM.\n * @param {Element} elm1 first element.\n * @param {Element} elm2 second element.\n */\nexport default function swapElements(elm1, elm2) {\n  if (!elm1 || !elm2) {\n    return;\n  }\n\n  const parent1 = elm1.parentNode;\n  const next1 = elm1.nextSibling;\n  const parent2 = elm2.parentNode;\n  const next2 = elm2.nextSibling;\n\n  parent1.insertBefore(elm2, next1);\n  parent2.insertBefore(elm1, next2);\n}\n","class Timer {\n  /**\n   * A simple timer class. The timer does not start automatically when\n   * initialized.\n   * @param {Function} fn Callback for when the timer expires.\n   * @param {number} delay Timer length in milliseconds.\n   * @param {boolean} [continuous] If true, the timer will automatically\n   *     restart itself when it expires.\n   * @constructor\n   */\n  constructor(fn, delay, continuous = false) {\n    this.timerId = null;\n    this.startTime = null;\n    this.isPaused = false;\n    this.isTicking = false;\n    this.isContinuous = continuous;\n    this.delay = delay;\n    this.remaining = delay;\n    this.fn = fn;\n\n    this.resume = this.start;\n    this.pause = this.stop;\n  }\n\n  /**\n   * Starts ticking the timer.\n   * @return {number|boolean} The remaining time or false if the timer is\n   *     already ticking.\n   */\n  start() {\n    if (this.isTicking) {\n      return false;\n    }\n\n    this.startTime = Date.now();\n    this.timerId = setTimeout(() => {\n      this.fn();\n\n      // If the timer wasn't stopped in the callback and this is a continuous\n      // timer, start it again.\n      if (!this.isPaused && this.isContinuous) {\n        this.restart();\n      } else {\n        this.reset();\n      }\n    }, this.remaining);\n    this.isTicking = true;\n    this.isPaused = false;\n    return this.remaining;\n  }\n\n  /**\n   * Pauses the timer. Resuming will continue it with the remaining time.\n   * @return {number} Time remaining.\n   */\n  stop() {\n    this.clear();\n    this.remaining -= Date.now() - this.startTime;\n    this.isPaused = true;\n    this.isTicking = false;\n    return this.remaining;\n  }\n\n  /**\n   * Sets time remaining to initial delay and clears timer.\n   */\n  reset() {\n    this.remaining = this.delay;\n    this.clear();\n  }\n\n  /**\n   * Resets the timer to the original delay, clears the current timer, and\n   * starts the timer again.\n   */\n  restart() {\n    this.reset();\n    this.resume();\n  }\n\n  /**\n   * Clears timer.\n   */\n  clear() {\n    clearTimeout(this.timerId);\n    this.isPaused = false;\n    this.isTicking = false;\n  }\n\n  /**\n   * Destroy the timer.\n   */\n  dispose() {\n    this.clear();\n    this.fn = null;\n  }\n}\n\nexport default Timer;\n","/**\n * Calculates the offset index for a circular list.\n * @param {number} index Starting index.\n * @param {number} displacement Offset from the starting index. Can be negative\n *     or positive. For example, -2 or 2.\n * @param {number} length Length of the list.\n * @return {number} The index of the relative displacement, wrapping around\n *     the end of the list to the start when the displacement is larger than\n *     what's left in the list.\n */\nexport default function wrapAroundList(index, displacement, length) {\n  return (index + displacement + length * 10) % length;\n}\n"],"names":["isDefined","value","undefined","transitions","transitionId","saveTransition","element","timerId","listener","clearTransition","getTransition","getTransitions","getElement","elem","jquery","length","TypeError","isOwnEvent","event","target","currentTarget","isSameTransitionProperty","prop","fake","propertyName","getFakeEvent","FADE","IN","INVISIBLE","noop","Stepper","options","Object","assign","Defaults","_animationAmount","end","start","_animationStart","Date","_handler","_animateLoop","bind","onfinish","_requestId","requestAnimationFrame","now","getTime","remainingTime","duration","percent","step","call","context","dispose","easing","cancel","cancelAnimationFrame","window","k","Math","cos","PI","Box","top","right","bottom","left","getPointerEvent","OdoDevice","HAS_POINTER_EVENTS","getTransitionEndEvent","div","document","createElement","style","transitionProperty","WebkitTransition","transition","Dom","TRANSITION","getAnimationEndEvent","WebkitAnimation","animation","ANIMATION","events","CLICK","DBLCLICK","MOUSEDOWN","MOUSEUP","MOUSEOVER","MOUSEOUT","MOUSEMOVE","SELECTSTART","KEYPRESS","KEYDOWN","KEYUP","BLUR","FOCUS","DEACTIVATE","FOCUSIN","FOCUSOUT","CHANGE","SELECT","SUBMIT","INPUT","PROPERTYCHANGE","DRAGSTART","DRAG","DRAGENTER","DRAGOVER","DRAGLEAVE","DROP","DRAGEND","TOUCHSTART","TOUCHMOVE","TOUCHEND","TOUCHCANCEL","BEFOREUNLOAD","CONTEXTMENU","ERROR","HELP","LOAD","LOSECAPTURE","READYSTATECHANGE","RESIZE","SCROLL","UNLOAD","HASHCHANGE","PAGEHIDE","PAGESHOW","POPSTATE","COPY","PASTE","CUT","BEFORECOPY","BEFORECUT","BEFOREPASTE","ONLINE","OFFLINE","MESSAGE","CONNECT","TRANSITIONEND","ANIMATIONEND","POINTERCANCEL","POINTERDOWN","POINTERMOVE","POINTEROVER","POINTEROUT","POINTERUP","cancelTransitionEnd","id","obj","clearTimeout","HAS_TRANSITIONS","removeEventListener","capitalize","str","charAt","toUpperCase","slice","causeLayout","offsetWidth","chunk","array","size","numArrays","ceil","chunked","Array","i","index","clamp","min","max","closest","arr","num","reduce","closestDiff","diff","abs","Infinity","closestGreaterThan","filter","closestLessThan","Coordinate","x","y","clone","scale","sx","optSy","translate","tx","ty","equals","a","b","distance","dx","dy","sqrt","difference","sum","product","quotient","defaultsTo","defaultValue","test","Promise","resolve","readyState","addEventListener","complete","ready","getTallest","elements","tallest","offsetHeight","setAllHeights","height","evenHeights","groups","list","from","isGroup","nodeType","forEach","tallests","map","onTransitionEnd","fn","property","timeout","callback","transitionEnded","evt","setTimeout","fadeElement","isOut","invisible","hasIn","classList","contains","Classes","hasFade","fakeEvent","faded","add","remove","toggle","fadeInElement","fadeOutElement","forceRedraw","tempStyleSheet","body","appendChild","removeChild","getSize","width","getFloat","parseFloat","getBox","props","getComputedStyle","getMarginBox","getElementsSize","dimension","memo","el","outerSize","margins","marginSize","getIOSVersion","userAgent","iosUserAgent","match","iosVersion","split","parseInt","number","getNthSibling","node","n","optIsForward","isForward","siblingCount","sibling","nextElementSibling","previousElementSibling","getNumberOption","Number","isNaN","getPaddingBox","isString","getStringOption","getPercentageOption","indexOf","getRelativeDepth","parentNode","depth","child","giveId","isAndroidOS","includes","isEdge","isChrome","isNativeAndroid","isIOS","hasScrollEvents","hyphenate","replace","m1","toLowerCase","isIE","onAnimationEnd","animationEnded","HAS_CSS_ANIMATIONS","pull","item","splice","random","toString","substring","Rect","w","h","intersects","removeChildren","textContent","normalizeHash","hash","Error","setHash","newHash","st","pageYOffset","location","scrollTo","replaceWithHash","history","replaceState","pathname","search","position","scrollTop","anim","swapElements","elm1","elm2","parent1","next1","nextSibling","parent2","next2","insertBefore","Timer","delay","continuous","startTime","isPaused","isTicking","isContinuous","remaining","resume","pause","stop","restart","reset","clear","wrapAroundList","displacement"],"mappings":"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"}