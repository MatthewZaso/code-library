!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@odopod/odo-helpers"),require("@odopod/odo-pointer")):"function"==typeof define&&define.amd?define(["@odopod/odo-helpers","@odopod/odo-pointer"],t):e.OdoTap=t(e.OdoHelpers,e.OdoPointer)}(this,function(e,t){"use strict";function n(){return"OdoTap"+(o+=1)}t=t&&t.hasOwnProperty("default")?t.default:t;var i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=0,s=function(e){e.preventDefault()},r=function(){function o(e,n,s){i(this,o),this.element=e,this.fn=n,this.preventEventDefault=s,this.pointer=new t(e,{preventEventDefault:s}),this._listen()}return o.prototype._listen=function(){this._onDragStart=this._handlePointerStart.bind(this),this._onDragMove=this._handlePointerMove.bind(this),this._onDragEnd=this._handlePointerEnd.bind(this),this._onKeyUp=this._handleKeyUp.bind(this),this.pointer.on(t.EventType.START,this._onDragStart),this.pointer.on(t.EventType.MOVE,this._onDragMove),this.pointer.on(t.EventType.END,this._onDragEnd),this.element.addEventListener(e.events.KEYUP,this._onKeyUp),this.preventEventDefault&&this.element.addEventListener(e.events.CLICK,s)},o.prototype._isPastThreshold=function(){return e.Coordinate.distance(this.pointer.pageStart,this.pointer.page)>o.MAX_MOVEMENT},o.prototype._handlePointerStart=function(){this.hasDragged=!1},o.prototype._handlePointerMove=function(){this.hasDragged||(this.hasDragged=this._isPastThreshold())},o.prototype._handlePointerEnd=function(e){!e.isCancelEvent&&this.pointer.deltaTime<o.MAX_TIME&&!this.hasDragged&&!0!==this.fn(e)&&e.preventDefault()},o.prototype._handleKeyUp=function(e){13!==e.which&&32!==e.which||(this.fn(e),e.preventDefault())},o.prototype.dispose=function(){this.element.removeEventListener(e.events.CLICK,s),this.element.removeEventListener(e.events.KEYUP,this._onKeyUp),this.pointer.on(t.EventType.START,this._onDragStart),this.pointer.on(t.EventType.MOVE,this._onDragMove),this.pointer.on(t.EventType.END,this._onDragEnd),this.pointer.dispose(),this.element=null,this.fn=null},o.addListener=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=n();return o._listeners.set(s,new o(e,t,i)),s},o.remove=function(e){o._listeners.get(e)&&(o._listeners.get(e).dispose(),o._listeners.delete(e))},o}();return r.MAX_MOVEMENT=10,r.MAX_TIME=250,r._listeners=new Map,r});
//# sourceMappingURL=odo-tap.min.js.map
